{"title":"Deploy on Heroku from oTree","markdown":{"headingText":"Deploy on Heroku from oTree","containsRefs":false,"markdown":"\nIn order to make the oTree instance accessible globally, a server is needed. We use Heroku which is a cloud hosting server that provides a platform for apps where you can easily host your oTree application and open access to the public.\n\nIf you run an experiment with a substantial number of participants, you must upgrade to a paid server. As you can immediately scale the server capacity it is not expensive to use. For instance, if you run your experiment in the timeframe of three days, you only pay 3/30th of the monthly fees as you scale it up before you use it and scale it down after you use it. After you have created an account on Heroku, download and install the [Heroku CLI](https://devcenter.heroku.com/articles/heroku-cli). After installing the Heroku Command Line Interface (CLI), there are three ways to deploy experiments to Heroku: \n\n1. oTree Hub\n2. GitHub\n3. Terminal\n\n## Connecting oTree to Heroku\n\n### **oTree Hub**\n\noTree Hub is the easiest way and requires least coding. However, convenience comes at a cost as you can have limited free project space and everything you deploy using oTree Hub becomes publicly available immediately, unless you pay.\n\n### **GitHub**\n\nGitHub also does not require programming and you can even auto-deploy your experiment every time you commit changes to GitHub. If you have a GitHub account, you can integrate this with Heroku. In Heroku, create an app and click on \"Deploy\". Here, you can authorize Heroku to access your GitHub repositories. After authorizing Heroku, you can search for your GitHub repository and connect it to Heroku. You can either manually deploy your GitHub repository to Heroku or automatically deploy all pushes you make to GitHub. If you add new variables in your experiment, you should reset the database in Heroku by using the following code in the Command Prompt.\n\n```default\nheroku login\nheroku run \"otree resetdb\" --app your_appname\n```\n### **Terminal**\n\nYou can use the command line (or Terminal for iOS users) to deploy your experiment to Heroku. In this case, you do not need any third-party software except Heroku. To use the command prompt you need to follow the following steps:\n\n- Locate the project root folder (particular oTree instance).\n\n```default\ncd '/Users/Name/Folder/'\n```\n\n- If you have created a Heroku account, use the following command. If you do not have a Heroku account yet, you can create one here.\n\n```default\nheroku login\n```\n\n- If the above command does not work, you probably have not installed Heroku CLI properly.\n\n- Then, you can create a new Heroku-app, if you don't have one yet.\n\n```default\nheroku create your_appname\n```\n\n- Since you are already in the project root folder you can create the .git here.\n\n```default\ngit init\nheroku git:remote -a your_appname\n```\n\n- You can push your code locally to Heroku. \nFinally push the local repository to the Heroku server.\n\n```default\ngit push heroku master\n```\n\n- In order to view the Heroku app, enter the following command or enter the URL in your browser.\n\n```default\nheroku open\n```\n\n- If you add new variables in the models.py, you should reset the database in Heroku.\n\n```default\nheroku login\nheroku run \"otree reset db\" --APP your_appname\n```\n\n- Or do it manually in the Heroku app, simlarly to the way described earlier."},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"chapter_5.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.1.165","bibliography":["references.bib"],"editor":"visual","theme":"cosmo"},"extensions":{"book":{"multiFile":true}}},"pdf":{"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"chapter_5.pdf"},"language":{},"metadata":{"block-headings":true,"bibliography":["references.bib"],"editor":"visual","documentclass":"scrreprt"},"extensions":{"book":{}}}}}